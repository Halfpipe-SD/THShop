(function(){"use strict";var t={7034:function(t,e,r){r(6992),r(8674),r(9601),r(7727);var n=r(144),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{id:"inspire"}},[r("v-app-bar",{attrs:{app:"",color:"white",flat:""}},[r("v-container",{staticClass:"py-0 fill-height"},[r("v-avatar",{staticClass:"mr-10",attrs:{color:"grey darken-1",size:"32"}}),t._l(t.$store.getters.getApps,(function(e,n){return r("v-btn",{key:n,attrs:{to:{name:e.name},depressed:"",plain:"",text:""}},[t._v(" "+t._s(e.title)+" ")])})),t.$store.getters.isAuthenticated?r("v-btn",{attrs:{depressed:"",plain:"",text:""},on:{click:t.logout}},[t._v("Logout")]):t._e(),r("v-spacer"),r("v-responsive",{attrs:{"max-width":"260"}},[r("v-text-field",{attrs:{dense:"",flat:"","hide-details":"",rounded:"","solo-inverted":""}})],1)],2)],1),r("v-main",{staticClass:"grey lighten-3"},[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"2"}},[r("v-sheet",{attrs:{rounded:"lg"}},[r("v-list",{attrs:{color:"transparent"}},[t._l(5,(function(e){return r("v-list-item",{key:e,attrs:{link:""}},[r("v-list-item-content",[r("v-list-item-title",[t._v(" List Item "+t._s(e)+" ")])],1)],1)})),r("v-divider",{staticClass:"my-2"}),r("v-list-item",{attrs:{link:"",color:"grey lighten-4"}},[r("v-list-item-content",[r("v-list-item-title",[t._v(" Refresh ")])],1)],1)],2)],1)],1),r("v-col",[r("v-sheet",{attrs:{"min-height":"70vh",rounded:"lg"}},[r("router-view")],1)],1)],1)],1)],1)],1)},a=[],s={data:function(){return{}},methods:{logout:function(){this.$store.dispatch("logout")}}},i=s,u=r(1001),c=r(3453),l=r.n(c),p=r(7524),f=r(6347),d=r(6370),m=r(680),h=r(2102),v=r(9846),g=r(1418),b=r(6816),w=r(7620),k=r(1311),x=r(7877),y=r(3857),T=r(2877),Z=r(3385),A=r(9762),_=r(896),S=(0,u.Z)(i,o,a,!1,null,null,null),E=S.exports;l()(S,{VApp:p.Z,VAppBar:f.Z,VAvatar:d.Z,VBtn:m.Z,VCol:h.Z,VContainer:v.Z,VDivider:g.Z,VList:b.Z,VListItem:w.Z,VListItemContent:k.km,VListItemTitle:k.V9,VMain:x.Z,VResponsive:y.Z,VRow:T.Z,VSheet:Z.Z,VSpacer:A.Z,VTextField:_.Z});var R=r(6198),V=(r(5666),r(1539),r(8783),r(3948),r(8345)),C=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-col"),r("v-card",{staticClass:"mx-auto",attrs:{loading:t.formLogin.loading,"max-width":"500"}},[r("template",{slot:"progress"},[r("v-progress-linear",{attrs:{color:"deep-purple",height:"10",indeterminate:""}})],1),r("v-card-title",[t._v("Login to your account")]),r("v-card-text",[r("v-text-field",{attrs:{type:"text",name:"input-10-1",label:"Username"},model:{value:t.formLogin.username,callback:function(e){t.$set(t.formLogin,"username",e)},expression:"formLogin.username"}}),r("v-text-field",{attrs:{type:"password",name:"input-10-1",label:"Password"},model:{value:t.formLogin.password,callback:function(e){t.$set(t.formLogin,"password",e)},expression:"formLogin.password"}})],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{text:""},on:{click:t.login}},[t._v("Login")])],1)],2),r("v-col"),r("v-card",{staticClass:"mx-auto",attrs:{loading:t.formRegister.loading,"max-width":"500"}},[r("template",{slot:"progress"},[r("v-progress-linear",{attrs:{color:"deep-purple",height:"10",indeterminate:""}})],1),r("v-card-title",[t._v("Register your account")]),r("v-card-text",[r("v-text-field",{attrs:{type:"text",name:"input-10-1",label:"Username"},model:{value:t.formRegister.username,callback:function(e){t.$set(t.formRegister,"username",e)},expression:"formRegister.username"}}),r("v-text-field",{attrs:{type:"password",name:"input-10-1",label:"Password",hint:"At least 8 characters",counter:""},model:{value:t.formRegister.password,callback:function(e){t.$set(t.formRegister,"password",e)},expression:"formRegister.password"}}),r("v-text-field",{attrs:{type:"password",name:"input-10-1",label:"Confirm Password",hint:"At least 8 characters",counter:""},model:{value:t.formRegister.password2,callback:function(e){t.$set(t.formRegister,"password2",e)},expression:"formRegister.password2"}})],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{text:""},on:{click:t.registration}},[t._v("Register")])],1)],2),r("v-snackbar",{attrs:{timeout:t.snackbar.timeout,"multi-line":""},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[r("v-btn",t._b({attrs:{text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",n,!1),[t._v("Close ")])]}}]),model:{value:t.snackbar.show,callback:function(e){t.$set(t.snackbar,"show",e)},expression:"snackbar.show"}},[t._v(t._s(t.snackbar.text)+" ")])],1)},L=[],j={data:function(){return{snackbar:{show:!1,timeout:2e3,text:""},formLogin:{loading:!1,password:"",username:""},formRegister:{loading:!1,password:"",password2:"",username:""}}},created:function(){this.$store.getters.isAuthenticated&&this.$router.push({name:"home"})},methods:{login:function(){var t=this;this.formLogin.loading=!0,this.$store.dispatch("login",{username:this.formLogin.username,password:this.formLogin.password}).then((function(){return t.$router.push({name:"home"})})).catch((function(e){return t.showSnackbar(e.response.data.message)})).finally((function(){return t.formLogin.loading=!1}))},registration:function(){var t=this;this.formRegister.password===this.formRegister.password2?(this.formRegister.loading=!0,this.$store.dispatch("registration",{username:this.formRegister.username,password:this.formRegister.password}).then((function(e){t.showSnackbar(e.message)})).catch((function(e){return t.showSnackbar(e.response.data.message)})).finally((function(){return t.formRegister.loading=!1}))):this.showSnackbar("Error: Passwords do not match!")},showSnackbar:function(t){this.snackbar.text=t,this.snackbar.show=!0}}},P=j,$=r(3237),O=r(7118),I=r(7003),U=r(3202),q=(0,u.Z)(P,C,L,!1,null,null,null),B=q.exports;l()(q,{VBtn:m.Z,VCard:$.Z,VCardActions:O.h7,VCardText:O.ZB,VCardTitle:O.EB,VCol:h.Z,VProgressLinear:I.Z,VSnackbar:U.Z,VSpacer:A.Z,VTextField:_.Z});var N=r(629),H=r(9669),M=r.n(H),W=M().create({baseURL:String("https://thshopapi.node5.de")});W.interceptors.request.use((function(t){var e=localStorage.getItem("jwt.token");return t&&t.headers&&null!==e&&(t.headers.Authorization="Bearer "+e),t})),W.interceptors.response.use((function(t){return t}),(function(t){return 401===t.response.status&&F.dispatch("logout"),Promise.reject(t)}));var D=W,J={state:{isAuthenticated:!1,jwt:null,user:null,apps:[]},mutations:{SET_AUTHENTICATED:function(t,e){t.isAuthenticated=e},SET_JWT:function(t,e){localStorage.setItem("jwt.token",e),t.jwt=e},REMOVE_JWT:function(t){localStorage.removeItem("jwt.token"),t.jwt=null},SET_USER:function(t,e){t.user=e},SET_APPS:function(t,e){t.apps=e}},actions:{autologin:function(t,e){var r=t.commit;r("SET_AUTHENTICATED",!0),r("SET_JWT",e)},login:function(t,e){return(0,R.Z)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,r.next=3,D.post("/auth/login",e);case 3:return o=r.sent,n("SET_AUTHENTICATED",!0),n("SET_JWT",o.data.token),r.abrupt("return",o.data);case 7:case"end":return r.stop()}}),r)})))()},logout:function(t){var e=t.commit;e("SET_AUTHENTICATED",!1),e("SET_USER",null),e("REMOVE_JWT"),K.push({name:"start"})},setApps:function(t){return(0,R.Z)(regeneratorRuntime.mark((function e(){var r,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.commit,n=t.getters,o=[],!n.isAuthenticated){e.next=8;break}return e.next=5,D.get("/user/apps");case 5:o=e.sent,e.next=11;break;case 8:return e.next=10,D.get("/public/apps");case 10:o=e.sent;case 11:r("SET_APPS",o.data.apps);case 12:case"end":return e.stop()}}),e)})))()},registration:function(t,e){return(0,R.Z)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,D.post("/auth/registration",e);case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})))()}},getters:{isAuthenticated:function(t){return t.isAuthenticated},getUser:function(t){return t.user},getApps:function(t){return t.apps}}};n.Z.use(N.ZP);var F=new N.ZP.Store({modules:{auth:J}});n.Z.use(V.Z);var z=[{path:"/",name:"start",component:B,meta:{title:"Landing Page",requiresAuth:!1}},{path:"/about",name:"about",component:function(){return r.e(443).then(r.bind(r,9030))},meta:{title:"About",requiresAuth:!1}},{path:"/home",name:"home",component:function(){return r.e(443).then(r.bind(r,9112))},meta:{title:"Home",requiresAuth:!0}},{path:"/profile",name:"profile",component:function(){return r.e(443).then(r.bind(r,9397))},meta:{title:"Profile",requiresAuth:!0}}],G=new V.Z({mode:"history",base:"/",routes:z});G.beforeEach(function(){var t=(0,R.Z)(regeneratorRuntime.mark((function t(e,r,n){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=localStorage.getItem("jwt.token"),!F.getters.isAuthenticated&&o&&F.dispatch("autologin",o),t.next=4,F.dispatch("setApps");case 4:e.matched.some((function(t){return t.meta.requiresAuth}))&&(F.getters.isAuthenticated?n():n({name:"start"})),n();case 6:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()),G.afterEach((function(t){document.title=String(t.meta.title||"Website")+" - TH-Shop"}));var K=G,Q=r(858);n.Z.use(Q.Z);var X=new Q.Z({});n.Z.config.productionTip=!1,n.Z.prototype.$axios=D,new n.Z({router:K,store:F,vuetify:X,render:function(t){return t(E)}}).$mount("#app")}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,r),a.exports}r.m=t,function(){var t=[];r.O=function(e,n,o,a){if(!n){var s=1/0;for(l=0;l<t.length;l++){n=t[l][0],o=t[l][1],a=t[l][2];for(var i=!0,u=0;u<n.length;u++)(!1&a||s>=a)&&Object.keys(r.O).every((function(t){return r.O[t](n[u])}))?n.splice(u--,1):(i=!1,a<s&&(s=a));if(i){t.splice(l--,1);var c=o();void 0!==c&&(e=c)}}return e}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[n,o,a]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){r.f={},r.e=function(t){return Promise.all(Object.keys(r.f).reduce((function(e,n){return r.f[n](t,e),e}),[]))}}(),function(){r.u=function(t){return"js/about-legacy.9b4741a4.js"}}(),function(){r.miniCssF=function(t){}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="thshop:";r.l=function(n,o,a,s){if(t[n])t[n].push(o);else{var i,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var p=c[l];if(p.getAttribute("src")==n||p.getAttribute("data-webpack")==e+a){i=p;break}}i||(u=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",e+a),i.src=n),t[n]=[o];var f=function(e,r){i.onerror=i.onload=null,clearTimeout(d);var o=t[n];if(delete t[n],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(t){return t(r)})),e)return e(r)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),u&&document.head.appendChild(i)}}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.p="/"}(),function(){var t={143:0};r.f.j=function(e,n){var o=r.o(t,e)?t[e]:void 0;if(0!==o)if(o)n.push(o[2]);else{var a=new Promise((function(r,n){o=t[e]=[r,n]}));n.push(o[2]=a);var s=r.p+r.u(e),i=new Error,u=function(n){if(r.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var a=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;i.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",i.name="ChunkLoadError",i.type=a,i.request=s,o[1](i)}};r.l(s,u,"chunk-"+e,e)}},r.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,a,s=n[0],i=n[1],u=n[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(u)var l=u(r)}for(e&&e(n);c<s.length;c++)a=s[c],r.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return r.O(l)},n=self["webpackChunkthshop"]=self["webpackChunkthshop"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(7034)}));n=r.O(n)})();
//# sourceMappingURL=app-legacy.24f5fd6d.js.map